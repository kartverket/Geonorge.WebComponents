!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.geonorge=t():(e.geonorge=e.geonorge||{},e.geonorge.MainSearchField=t())}(self,(()=>(()=>{var e={5533:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(5052),s=r.n(n),o=r(164),i=r.n(o)()(s());i.push([e.id,'*{box-sizing:border-box}div.main-search-field{font-family:"Open Sans",sans-serif;display:flex;height:37px;margin-top:.25em;position:relative;width:100%}@media(min-width: 37.5em){div.main-search-field{margin-top:0}}div.main-search-field .mainSearchLabel{width:0;height:0;overflow:hidden;opacity:0}div.main-search-field input{-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-border-radius:4px 0 0 4px;border-radius:4px 0 0 4px;height:37px;width:100%;outline-offset:-2px;background:#fff;border:1px solid #dfdcda;border-right:0;font-family:"Open Sans",sans-serif;font-size:18px;font-weight:normal;flex:1;margin:0;padding:0 .75em}div.main-search-field button{-webkit-appearance:button;-moz-appearance:button;appearance:button;-webkit-border-radius:0 4px 4px 0;border-radius:0 4px 4px 0;margin:0;background:#fff;border:1px solid #dfdcda;border-left:0;display:inline-block;padding:0 .75em;height:100%}div.main-search-field button svg{height:22px;width:21px}div.search-results-container{-webkit-box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);-moz-box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);-webkit-border-radius:0 0 3px 3px;border-radius:0 0 3px 3px;position:absolute;background:#fbfcfd;display:none;top:37px;z-index:1}div.search-results-container.open{display:block;width:100%;overflow-y:auto}div.search-results-container a{color:#3767c7;text-decoration:none}div.search-results-container a:hover{color:#0056b3;text-decoration:underline}div.search-results-container div.search-results-for-type:nth-child(odd){background-color:#fbfcfd}div.search-results-container div.search-results-for-type:nth-child(even){background-color:#f5f6f7}div.search-results-container div.search-results-for-type a.search-results-for-type-title{font-family:"Open Sans",sans-serif;padding:6px 16px;font-size:18px;display:inline-block;font-weight:normal}div.search-results-container div.search-results-for-type a.search-results-for-type-title span.search-results-for-type-number-badge{-webkit-border-radius:6px;border-radius:6px;padding:1px 4px;color:#fff;background-color:#fe5000;display:inline-block;font-size:.7em;vertical-align:middle;text-align:center;min-width:24px;font-weight:bold}div.search-results-container div.search-results-for-type ul.search-results-for-type-list{list-style:none;padding:0 16px 12px 32px;margin:0}div.search-results-container div.search-results-for-type ul.search-results-for-type-list li a{font-family:"Open Sans",sans-serif;padding:2px 0;display:block;font-size:14px;font-weight:normal}.hidden{height:0;width:0;position:absolute;color:rgba(0,0,0,0);overflow:hidden}',"",{version:3,sources:["webpack://./stories/main-navigation/main-search-field/main-search-field.scss","webpack://./style/variables/_typography.scss","webpack://./style/mixins/_breakpoints.scss","webpack://./style/mixins/_appearance.scss","webpack://./style/mixins/_border-radius.scss","webpack://./style/mixins/_box-shadow.scss","webpack://./style/variables/_colors.scss"],names:[],mappings:"AAEA,EACE,qBAAA,CAGF,sBACE,kCCPa,CDQb,YAAA,CACA,WAAA,CACA,gBAAA,CACA,iBAAA,CACA,UAAA,CEEM,0BFRR,sBAQI,YAAA,CAAA,CAGF,uCACE,OAAA,CACA,QAAA,CACA,eAAA,CACA,SAAA,CAGF,4BGvBE,uBHwBoB,CGvBpB,oBHuBoB,CGtBpB,eHsBoB,CIxBtB,iCJyByB,CIxBzB,yBJwByB,CACvB,WAAA,CACA,UAAA,CACA,mBAAA,CACA,eAAA,CACA,wBAAA,CACA,cAAA,CACA,kCCjCW,CDkCX,cAAA,CACA,kBAAA,CACA,MAAA,CACA,QAAA,CACA,eAAA,CAGF,6BGxCE,yBHyCoB,CGxCpB,sBHwCoB,CGvCpB,iBHuCoB,CIzCtB,iCJ0CyB,CIzCzB,yBJyCyB,CACvB,QAAA,CACA,eAAA,CACA,wBAAA,CACA,aAAA,CACA,oBAAA,CACA,eAAA,CACA,WAAA,CAEA,iCACE,WAAA,CACA,UAAA,CAKN,6BK1DI,8GL2DF,CK1DE,2GL0DF,CKzDE,sGLyDF,CI3DA,iCJgEuB,CI/DvB,yBJ+DuB,CACvB,iBAAA,CACA,kBAAA,CACA,YAAA,CACA,QAAA,CACA,SAAA,CAEA,kCACE,aAAA,CACA,UAAA,CACA,eAAA,CAGF,+BACE,aMhEW,CNiEX,oBAAA,CACA,qCACE,aMlEc,CNmEd,yBAAA,CAKF,wEACE,wBAAA,CAEF,yEACE,wBAAA,CAEF,yFACE,kCC/FS,CDgGT,gBAAA,CACA,cAAA,CACA,oBAAA,CACA,kBAAA,CACA,mIInGJ,yBJoG6B,CInG7B,iBJmG6B,CACvB,eAAA,CACA,UAAA,CACA,wBM7FQ,CN8FR,oBAAA,CACA,cAAA,CACA,qBAAA,CACA,iBAAA,CACA,cAAA,CACA,gBAAA,CAGJ,yFACE,eAAA,CACA,wBAAA,CACA,QAAA,CAEE,8FACE,kCCvHK,CDwHL,aAAA,CACA,aAAA,CACA,cAAA,CACA,kBAAA,CAOV,QACE,QAAA,CACA,OAAA,CACA,iBAAA,CACA,mBAAA,CACA,eAAA",sourcesContent:['@import "../../../style/all";\r\n\r\n* {\r\n  box-sizing: border-box;\r\n}\r\n\r\ndiv.main-search-field {\r\n  font-family: $default-font;\r\n  display: flex;\r\n  height: 37px;\r\n  margin-top: 0.25em;\r\n  position: relative;\r\n  width: 100%;\r\n  @include breakpoint(phablet) {\r\n    margin-top: 0;\r\n  }\r\n\r\n  .mainSearchLabel {\r\n    width: 0;\r\n    height: 0;\r\n    overflow: hidden;\r\n    opacity: 0;\r\n  }\r\n\r\n  input {\r\n    @include appearance(none);\r\n    @include border-radius(4px 0 0 4px);\r\n    height: 37px;\r\n    width: 100%;\r\n    outline-offset: -2px;\r\n    background: #fff;\r\n    border: 1px solid #dfdcda;\r\n    border-right: 0;\r\n    font-family: $default-font;\r\n    font-size: 18px;\r\n    font-weight: normal;\r\n    flex: 1;\r\n    margin: 0;\r\n    padding: 0 0.75em;\r\n  }\r\n\r\n  button {\r\n    @include appearance(button);\r\n    @include border-radius(0 4px 4px 0);\r\n    margin: 0;\r\n    background: #fff;\r\n    border: 1px solid #dfdcda;\r\n    border-left: 0;\r\n    display: inline-block;\r\n    padding: 0 0.75em;\r\n    height: 100%;\r\n\r\n    svg {\r\n      height: 22px;\r\n      width: 21px;\r\n    }\r\n  }\r\n}\r\n\r\ndiv.search-results-container {\r\n  @include box-shadow(\r\n    0 5px 5px -3px rgba(0, 0, 0, 0.2),\r\n    0 8px 10px 1px rgba(0, 0, 0, 0.14),\r\n    0 3px 14px 2px rgba(0, 0, 0, 0.12)\r\n  );\r\n  @include border-radius(0 0 3px 3px);\r\n  position: absolute;\r\n  background: #fbfcfd;\r\n  display: none;\r\n  top: 37px;\r\n  z-index: 1;\r\n\r\n  &.open {\r\n    display: block;\r\n    width: 100%;\r\n    overflow-y: auto;\r\n  }\r\n\r\n  a {\r\n    color: $primary-text;\r\n    text-decoration: none;\r\n    &:hover {\r\n      color: $primary-text-hover;\r\n      text-decoration: underline;\r\n    }\r\n  }\r\n\r\n  div.search-results-for-type {\r\n    &:nth-child(odd) {\r\n      background-color: #fbfcfd;\r\n    }\r\n    &:nth-child(even) {\r\n      background-color: #f5f6f7;\r\n    }\r\n    a.search-results-for-type-title {\r\n      font-family: $default-font;\r\n      padding: 6px 16px;\r\n      font-size: 18px;\r\n      display: inline-block;\r\n      font-weight: normal;\r\n      span.search-results-for-type-number-badge {\r\n        @include border-radius(6px);\r\n        padding: 1px 4px;\r\n        color: #fff;\r\n        background-color: $primary-brand;\r\n        display: inline-block;\r\n        font-size: 0.7em;\r\n        vertical-align: middle;\r\n        text-align: center;\r\n        min-width: 24px;\r\n        font-weight: bold;\r\n      }\r\n    }\r\n    ul.search-results-for-type-list {\r\n      list-style: none;\r\n      padding: 0 16px 12px 32px;\r\n      margin: 0;\r\n      li {\r\n        a {\r\n          font-family: $default-font;\r\n          padding: 2px 0;\r\n          display: block;\r\n          font-size: 14px;\r\n          font-weight: normal;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.hidden {\r\n  height: 0;\r\n  width: 0;\r\n  position: absolute;\r\n  color: transparent;\r\n  overflow: hidden;\r\n}\r\n','$default-font: "Open Sans", sans-serif;\r\n$header-font: "Raleway", sans-serif;\r\n$default-font-size: 15px;\r\n',"@mixin breakpoint($point) {\r\n    @if $point == desktop {\r\n        @media (min-width: $screen-desktop) {\r\n            @content;\r\n        }\r\n    } @else if $point == laptop {\r\n        @media (min-width: $screen-laptop) {\r\n            @content;\r\n        }\r\n    } @else if $point == tablet {\r\n        @media (min-width: $screen-tablet) {\r\n            @content;\r\n        }\r\n    } @else if $point == phablet {\r\n        @media (min-width: $screen-phablet) {\r\n            @content;\r\n        }\r\n    }\r\n}\r\n","\ufeff@mixin appearance ($value) {\r\n    -webkit-appearance: $value;\r\n    -moz-appearance: $value;\r\n    appearance: $value;\r\n}\r\n","@mixin border-radius($radius) {\r\n  -webkit-border-radius: $radius;\r\n  border-radius: $radius;\r\n}\r\n\r\n// Single side border-radius\r\n\r\n@mixin border-top-radius($radius) {\r\n  -webkit-border-top-right-radius: $radius;\r\n  border-top-right-radius: $radius;\r\n  -webkit-border-top-left-radius: $radius;\r\n  border-top-left-radius: $radius;\r\n}\r\n@mixin border-right-radius($radius) {\r\n  -webkit-border-bottom-right-radius: $radius;\r\n  border-bottom-right-radius: $radius;\r\n  -webkit-border-top-right-radius: $radius;\r\n  border-top-right-radius: $radius;\r\n}\r\n@mixin border-bottom-radius($radius) {\r\n  -webkit-border-bottom-right-radius: $radius;\r\n  border-bottom-right-radius: $radius;\r\n  -webkit-border-bottom-left-radius: $radius;\r\n  border-bottom-left-radius: $radius;\r\n}\r\n@mixin border-left-radius($radius) {\r\n  -webkit-border-bottom-left-radius: $radius;\r\n  border-bottom-left-radius: $radius;\r\n  -webkit-border-top-left-radius: $radius;\r\n  border-top-left-radius: $radius;\r\n}","\ufeff@mixin box-shadow($shadows...) {\r\n    -webkit-box-shadow: $shadows;\r\n    -moz-box-shadow: $shadows;\r\n    box-shadow: $shadows;\r\n}\r\n","$body-background: #ffffff;\r\n$navigation-bar-background:  #f7f7f7;\r\n$hover-background: rgba(0,0,0,.05);\r\n$default-border: #d8d8d8;\r\n\r\n$default-background: #eee;\r\n$default-background-hover: #ddd;\r\n$default-text:#2F3940;\r\n\r\n$light-gray: #f6f5f4;\r\n\r\n$primary-brand: #FE5000;\r\n\r\n$primary-background: #3767C7;\r\n$primary-background-hover: #FE5000;\r\n$primary-text: #3767C7;\r\n$primary-text-hover:#0056b3;\r\n\r\n\r\n$success-background: #06A755;\r\n$success-background-hover: #009745;\r\n$success-text: #06A755;\r\n\r\n\r\n$warning-background: #C38621;\r\n$warning-background-hover: #B37611;\r\n$warning-text: #C38621;\r\n\r\n$danger-background: #E00d0D;\r\n$danger-background-hover: #D00000;\r\n$danger-text: #E00d0D;\r\n\r\n$disabled-background: #f4f4f4;\r\n$disabled-border: #dedede;\r\n$disabled-text: #707070;\r\n\r\n\r\n$light-green: #8fff33;\r\n$light-yellow: #ffEb3b;\r\n$light-red: #ff4a2e;\r\n"],sourceRoot:""}]);const a=i},2979:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n='<template>\r\n    <div class="main-search-field">\r\n          <label id="main-search-input-label" for="main-search-input" class="hidden">søk</label>\r\n          <input id="main-search-input" autocomplete="off" type="search" value="" />\r\n          <button id="search-submit-button"></button>\r\n       <div id="search-results-container" class="search-results-container">\r\n          \r\n       </div>\r\n    </div>\r\n </template>'},164:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",n=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),n&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),n&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,n,s,o){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(n)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(i[c]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);n&&i[d[0]]||(void 0!==o&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=o),r&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=r):d[2]=r),s&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=s):d[4]="".concat(s)),t.push(d))}},t}},5052:e=>{"use strict";e.exports=function(e){var t=e[1],r=e[3];if(!r)return t;if("function"==typeof btoa){var n=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),o="/*# ".concat(s," */");return[t].concat([o]).join("\n")}return[t].join("\n")}},8631:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(s,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;const s=r(169),o=r(6999),i=r(2466);t.Component=e=>t=>{var r;const a=e.tag||i.toKebabCase(t.prototype.constructor.name),c=((r=class extends t{constructor(){super(),this.props={},this.showShadowRoot=null==e.shadow||e.shadow,!this.shadowRoot&&this.showShadowRoot&&this.attachShadow({mode:"open"})}static get observedAttributes(){return Object.keys(this.propsInit||{}).map((e=>i.toKebabCase(e)))}attributeChangedCallback(e,t,r){this.onAttributeChange(e,t,r)}onAttributeChange(e,t,r,n=!0){if(t!=r){n&&(this[i.toCamelCase(e)]=r);const s=this.constructor.watchAttributes;if(s&&s[e]){const n=s[e];this.__connected&&"function"==typeof this[n]&&this[n]({old:t,new:r})}}}connectedCallback(){const e=Object.create(null,{connectedCallback:{get:()=>super.connectedCallback}});return n(this,void 0,void 0,(function*(){yield this.render(),e.connectedCallback&&e.connectedCallback.call(this),this.__connected=!0,s.addEventListeners(this),o.initializeProps(this)}))}render(){return n(this,void 0,void 0,(function*(){if(this.__connected)return;const t=document.createElement("template");t.innerHTML=yield this.getStyle(),e.template instanceof Promise?t.content.appendChild(yield this.getExternalTemplate()):"string"==typeof e.template&&(t.innerHTML+=e.template),(this.showShadowRoot?this.shadowRoot:this).appendChild(t.content.cloneNode(!0))}))}getExternalTemplate(){return n(this,void 0,void 0,(function*(){const t=(yield e.template).default.toString(),r=document.createRange().createContextualFragment(t);return 1===r.children.length&&"TEMPLATE"===r.children[0].nodeName?r.firstChild.content:r}))}getStyle(){return n(this,void 0,void 0,(function*(){let t;return e.style instanceof Promise?t=(yield e.style).default.toString():"string"==typeof e.style&&(t=e.style),t?`<style>${t}</style>`:""}))}}).__connected=!1,r.ready=new Promise(((e,t)=>e(!0))),r);return customElements.get(a)||customElements.define(a,c),c}},3704:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomElement=void 0;class r extends HTMLElement{constructor(){super()}connect(e){this.isConnected||document.querySelector(e).appendChild(this)}}t.CustomElement=r},3365:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getShadowRootElement=t.getElement=void 0,t.getElement=e=>document.querySelector(e),t.getShadowRootElement=(e,t)=>e.shadowRoot.querySelector(t)},3128:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),s(r(8631),t),s(r(3704),t),s(r(3365),t),s(r(169),t),s(r(6999),t),s(r(3982),t),s(r(8861),t),s(r(1063),t)},169:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Dispatch=t.addEventListeners=t.Listen=void 0;const n=r(2466);t.Listen=(e,t)=>(r,n)=>{r.constructor.listeners||(r.constructor.listeners=[]),r.constructor.listeners.push({selector:t,eventName:e,handler:r[n]})},t.addEventListeners=e=>{if(e.constructor.listeners){const t=e.shadowRoot||e;for(const r of e.constructor.listeners){const n=r.selector?t.querySelector(r.selector)?t.querySelector(r.selector):null:e;n&&n.addEventListener(r.eventName,(t=>{r.handler.call(e,t)}))}}},t.Dispatch=e=>(t,r)=>{Object.defineProperty(t,r,{get:function(){const t=this;return{emit(s){const o=e||n.toDotCase(r);t.dispatchEvent(new CustomEvent(o,s))}}}})}},6999:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initializeProps=t.Prop=void 0;const n=r(2466);t.Prop=()=>(e,t)=>{const r=n.toKebabCase(t);e.constructor.propsInit||(e.constructor.propsInit={}),e.constructor.propsInit[t]=null,Object.defineProperty(e,t,{get:function(){return this.props[t]?this.props[t]:this.getAttribute(r)},set:function(e){if(this.__connected){const s=this.props[t];this.props[t]=n.tryParseInt(e),"object"!=typeof e?this.setAttribute(r,e):this.onAttributeChange(r,s,e,!1)}else this.hasAttribute(n.toKebabCase(t))||(this.constructor.propsInit[t]=e)}})},t.initializeProps=e=>{const t=e.constructor.watchAttributes;for(let r of(e=>{const t=e.constructor.watchAttributes,r=Object.assign({},t);Object.keys(r).forEach((e=>r[e]=""));const n=Object.assign(Object.assign({},r),e.constructor.propsInit);return Object.keys(n)})(e)){if(t)if(null==t[n.toKebabCase(r)])t[n.toKebabCase(r)]="";else{const s=e.props[r]||e.getAttribute(n.toKebabCase(r));"function"==typeof e[t[r]]&&e[t[r]]({new:s})}e.constructor.propsInit[r]&&(e.hasAttribute(n.toKebabCase(r))||(e[r]=e.constructor.propsInit[r]))}}},3982:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Toggle=void 0;const n=r(2466);t.Toggle=()=>(e,t)=>{e.constructor.propsInit||(e.constructor.propsInit={}),e.constructor.propsInit[t]=null,Object.defineProperty(e,t,{get:function(){return(e=>{if(this.hasAttribute(e)){const t=this.getAttribute(e);return!!/^(true|false|^$)$/.test(t)&&("true"==t||""==t)}return!1})(t)},set:function(e){const r=e;if(null!=e)switch(typeof e){case"boolean":break;case"string":/^(true|false|^$)$/.test(e)?e="true"==r||""==r:(console.warn(`TypeError: Cannot set boolean toggle property '${t}' to '${e}'`),e=!1);break;default:throw`TypeError: Cannot set boolean toggle property '${t}' to '${e}'`}this.__connected?(this.props[t]=e||!1,""!==r&&null!==r?this.setAttribute(t,e):e?this.setAttribute(t,""):this.removeAttribute(t)):this.hasAttribute(n.toKebabCase(t))||(this.constructor.propsInit[t]=e)}})}},8861:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2466:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tryParseInt=t.toDotCase=t.toCamelCase=t.toKebabCase=void 0,t.toKebabCase=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),t.toCamelCase=e=>e.toLowerCase().replace(/(\-\w)/g,(e=>e[1].toUpperCase())),t.toDotCase=e=>e.replace(/(?!^)([A-Z])/g," $1").replace(/[_\s]+(?=[a-zA-Z])/g,".").toLowerCase(),t.tryParseInt=e=>parseInt(e)==e&&NaN!==parseFloat(e)?parseInt(e):e},1063:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Watch=void 0;const n=r(2466);t.Watch=e=>(t,r)=>{t.constructor.watchAttributes||(t.constructor.watchAttributes={}),t.constructor.watchAttributes[n.toKebabCase(e)]=r,t.constructor.propsInit||(t.constructor.propsInit={}),t.constructor.propsInit[e]=null}},8289:e=>{e.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 34 35" style="enable-background:new 0 0 34 35;" xml:space="preserve"><style type="text/css"> .__1tsiE8U__st0{fill:#B0A9A2;} </style><g><path class="__1tsiE8U__st0 " d="M23.6,22.8c2.2-2.4,3.6-5.7,3.6-9.2C27.2,6.1,21.1,0,13.6,0C6.1,0,0,6.1,0,13.6c0,7.5,6.1,13.6,13.6,13.6 c3.1,0,5.9-1,8.1-2.7l10.1,10.1c0.2,0.2,0.6,0.4,0.9,0.4c0.3,0,0.6-0.1,0.9-0.4c0.5-0.5,0.5-1.3,0-1.7L23.6,22.8z M2.5,13.6 c0-6.1,5-11.1,11.1-11.1c6.1,0,11.1,5,11.1,11.1s-5,11.1-11.1,11.1S2.5,19.7,2.5,13.6L2.5,13.6z"></path></g></svg>'},8914:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(s,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchDropdownSearchResults=t.fetchMenuItems=t.getGeonorgeMenuUrl=t.getKartkatalogApiUrl=void 0,t.getKartkatalogApiUrl=e=>`https://kartkatalog.${"dev"===e||"test"===e?e+".":""}geonorge.no/api`,t.getGeonorgeMenuUrl=(e,t)=>`https://www.${"dev"===t||"test"===t?"test.":""}geonorge.no/${"en"===e?"en/":""}api/menu/get?omitLinks=1`,t.fetchMenuItems=(e="no",r="")=>{const n=(0,t.getGeonorgeMenuUrl)(e,r);return fetch(n).then((e=>e.json())).then((e=>e))},t.fetchDropdownSearchResults=(...e)=>r(void 0,[...e],void 0,(function*(e="",n="no",s=""){const o={dataset:`search?text=${e=e.toString()}&facets%5B1%5Dname=type&facets%5B1%5Dvalue=dataset`,series:`search?text=${e}&facets%5B1%5Dname=type&facets%5B1%5Dvalue=series`,service:`search?text=${e}&facets%5B1%5Dname=type&facets%5B1%5Dvalue=service`,servicelayer:`search?text=${e}&facets%5B1%5Dname=type&facets%5B1%5Dvalue=servicelayer`,software:`search?text=${e}&facets%5B1%5Dname=type&facets%5B1%5Dvalue=software`,articles:`articles?text=${e}`},i={headers:new Headers({"Accept-Language":n})};return e&&e.length?yield Promise.all(Object.keys(o).map((e=>r(void 0,void 0,void 0,(function*(){const r=(0,t.getKartkatalogApiUrl)(s);return fetch(`${r}/${o[e]}&limit=5`,i).then((e=>e.json())).then((t=>Object.assign(Object.assign({},t),{searchResultsType:e})))}))))):null}))},2781:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderDropdownResultLink=t.convertTextToUrlSlug=t.getGeonorgeNedlastingUrl=t.getGeonorgeUrl=t.getKartkatalogUrl=void 0,t.getKartkatalogUrl=e=>`https://kartkatalog.${"dev"===e||"test"===e?e+".":""}geonorge.no`,t.getGeonorgeUrl=(e,t)=>`https://www.${"dev"===t||"test"===t?"test.":""}geonorge.no/${"en"===e?"en/":""}`,t.getGeonorgeNedlastingUrl=e=>`https://nedlasting.${"dev"===e||"test"===e?"test.":""}geonorge.no`;const r=(e,t,r)=>(e=(e=(e=e.replace(new RegExp(`([^s])([${t}])([^s])`,"ig"),`$1 ${r} $3`)).replace(new RegExp(`([^s])([${t}])`,"ig"),`$1 ${r}`)).replace(new RegExp(`([${t}])([^s])`,"ig"),`${r} $2`)).replace(new RegExp(`[${t}]`,"ig"),r);t.convertTextToUrlSlug=(e="")=>(e=e.toLowerCase(),e=r(e,"&","and"),(e=(e=(e=(e=(e=(e=(e=(e=(e=r(e,"+","plus")).replace("æ","ae")).replace("ä","ae")).replace("ø","oe")).replace("ö","oe")).replace("å","aa")).replace(/( - )/g,"-")).replace(/[\s]+/g,"-")).replace(/[^a-z0-9-]+/gi,"")).replace(/^[^A-Z0-9]*|[^a-z0-9]*$/gi,""));const n=(e,t)=>{if(!t)return!1;t({event:"updateSearchString",category:"metadataSearch",activity:"dropDownResultsClick",searchString:e})};t.renderDropdownResultLink=(e,r,s,o,i)=>"articles"===r?`<a onClick="${n(s,i)}" href="${e.ShowDetailsUrl?e.ShowDetailsUrl:"#"}">${e.Title}</a>`:`<a onClick="${n(s,i)}" href="${(0,t.getKartkatalogUrl)(o)}/metadata/${(0,t.convertTextToUrlSlug)(e.Title)}/${e.Uuid}?search=${s}">${e.Title}</a>`},1517:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,r,n){var s,o=arguments.length,i=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,r,i):s(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return s(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MainSearchField=void 0;const c=r(3128),l=r(8914),d=r(2781),u=a(r(8289));let h=class extends c.CustomElement{constructor(){super(),this.searchstring="",this.renderSearchResultsForType=e=>{const t=e.Results[0].TypeTranslated,r=e.searchResultsType,n=e.Results.map((e=>`<li>${(0,d.renderDropdownResultLink)(e,r,this.searchstring,this.environment)}</li>`)).join("");return`\n      <div class="search-results-for-type">\n         <a href="${"articles"===r?`${(0,d.getKartkatalogUrl)(this.environment)}/articles?text=${this.searchstring}`:`${(0,d.getKartkatalogUrl)(this.environment)}/metadata?text=${this.searchstring}&type=${r}`}" class="search-results-for-type-title">\n            ${t}\n            <span class="search-results-for-type-number-badge">\n               ${e.NumFound}\n            </span>\n         </a>\n         <ul class="search-results-for-type-list">\n            ${n}\n         </ul>\n      </div>`},this.renderSearchResults=e=>`<div>${e.map((e=>this.renderSearchResultsForType(e))).join("")}</div>`,this.hideSearchResultsContainer=()=>{this.showSearchResults=!1},this.clickOutsideSearchResultsContainer=this.clickOutsideSearchResultsContainer.bind(this)}setup(e){this.connect(e.container),e.id&&(this.id=e.id)}connectedCallback(){this.searchField=(0,c.getShadowRootElement)(this,"#main-search-input"),this.searchFieldLabel=(0,c.getShadowRootElement)(this,"#main-search-input-label"),this.searchButton=(0,c.getShadowRootElement)(this,"#search-submit-button"),this.searchFieldLabel.innerHTML="en"===this.language?"Search":"Søk",this.searchButton.innerHTML=u.default,this.searchResultsContainer=(0,c.getShadowRootElement)(this,"#search-results-container"),this.searchResultsContainer.style.maxHeight=window.innerHeight-61+"px",this.searchField&&this.searchstring&&this.searchField.setAttribute("value",this.searchstring),document.addEventListener("click",this.clickOutsideSearchResultsContainer)}disconnectedCallback(){document.removeEventListener("click",this.clickOutsideSearchResultsContainer)}clickOutsideSearchResultsContainer(e){var t;const r=e.composedPath()[0];if(r.closest("#search-results-container")||r.closest("#main-search-input")){const e=r.closest("a");(null===(t=null==e?void 0:e.href)||void 0===t?void 0:t.length)&&this.hideSearchResultsContainer()}else this.hideSearchResultsContainer()}submitSearch(){var e;this.hideSearchResultsContainer(),this.preventRedirect?this.onSearch.emit({detail:{searchString:this.searchstring}}):window.location.href=`${(0,d.getKartkatalogUrl)(this.environment)}/metadata?text=${(null===(e=this.searchstring)||void 0===e?void 0:e.length)?encodeURI(this.searchstring.toString()):""}`}searchFieldKeyUp(e){var t,r,n;e.key&&"Enter"===e.key&&(null===(t=this.searchstring)||void 0===t?void 0:t.toString().length)?this.submitSearch():this.searchstring=(null===(n=null===(r=this.searchField)||void 0===r?void 0:r.value)||void 0===n?void 0:n.toString())||""}onSearchSubmitted(e){this.submitSearch()}searchStringChanged(){this.searchField&&this.searchField.setAttribute("value",this.searchstring),(0,l.fetchDropdownSearchResults)(this.searchstring,this.language,this.environment).then((e=>{this.searchResultsResponses=e}))}languageChanged(){this.searchField&&this.searchField.setAttribute("aria-label","en"===this.language?"Enter your search query":"Skriv inn det du vil søke etter"),this.searchFieldLabel&&(this.searchFieldLabel.innerText="en"===this.language?"Search":"Søk"),this.searchButton&&this.searchButton.setAttribute("aria-label","en"===this.language?"Search":"Søk")}showSearchResultsChanged(){this.showSearchResults?this.searchResultsContainer.classList.add("open"):this.searchResultsContainer.classList.remove("open")}searchResultsResponseChanged(){const e=this.searchResultsResponses&&this.searchResultsResponses.length?this.searchResultsResponses.filter((e=>e.NumFound>0)):[];this.searchResultsContainer.innerHTML=e.length?this.renderSearchResults(e):"",this.showSearchResults=!!e.length}static setup(e,t){const r=(0,c.getElement)(e);t.onClick&&r.addEventListener("searchButtonClick",t.onClick),t.active&&(r.showSearchResults=t.active)}};t.MainSearchField=h,h.elementSelector="main-search-field",o([(0,c.Prop)()],h.prototype,"id",void 0),o([(0,c.Prop)()],h.prototype,"environment",void 0),o([(0,c.Toggle)()],h.prototype,"showSearchResults",void 0),o([(0,c.Toggle)()],h.prototype,"preventRedirect",void 0),o([(0,c.Prop)()],h.prototype,"searchstring",void 0),o([(0,c.Prop)()],h.prototype,"language",void 0),o([(0,c.Prop)()],h.prototype,"searchResultsResponses",void 0),o([(0,c.Dispatch)("searchResultsChanged")],h.prototype,"onTextChanged",void 0),o([(0,c.Dispatch)("onSearchStringChange")],h.prototype,"onSearchStringChange",void 0),o([(0,c.Dispatch)("onSearch")],h.prototype,"onSearch",void 0),o([(0,c.Listen)("keyup","input")],h.prototype,"searchFieldKeyUp",null),o([(0,c.Listen)("click","#search-submit-button")],h.prototype,"onSearchSubmitted",null),o([(0,c.Watch)("searchstring")],h.prototype,"searchStringChanged",null),o([(0,c.Watch)("language")],h.prototype,"languageChanged",null),o([(0,c.Watch)("showsearchresults")],h.prototype,"showSearchResultsChanged",null),o([(0,c.Watch)("searchResultsResponses")],h.prototype,"searchResultsResponseChanged",null),t.MainSearchField=h=o([(0,c.Component)({tag:"main-search-field",template:Promise.resolve().then((()=>i(r(2979)))),style:Promise.resolve().then((()=>i(r(5533))))})],h)}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var o=t[n]={id:n,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}return r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r(1517)})()));
//# sourceMappingURL=MainSearchField.js.map