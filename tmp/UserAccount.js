!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.geonorge=e():(t.geonorge=t.geonorge||{},t.geonorge.UserAccount=e())}(self,(()=>(()=>{var t={164:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",o=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),o&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),o&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,o,i,r){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(o)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(s[c]=!0)}for(var l=0;l<t.length;l++){var u=[].concat(t[l]);o&&s[u[0]]||(void 0!==r&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=r),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),e.push(u))}},e}},169:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Dispatch=e.addEventListeners=e.Listen=void 0;const o=n(2466);e.Listen=(t,e)=>(n,o)=>{n.constructor.listeners||(n.constructor.listeners=[]),n.constructor.listeners.push({selector:e,eventName:t,handler:n[o]})},e.addEventListeners=t=>{if(t.constructor.listeners){const e=t.shadowRoot||t;for(const n of t.constructor.listeners){const o=n.selector?e.querySelector(n.selector)?e.querySelector(n.selector):null:t;o&&o.addEventListener(n.eventName,(e=>{n.handler.call(t,e)}))}}},e.Dispatch=t=>(e,n)=>{Object.defineProperty(e,n,{get:function(){const e=this;return{emit(i){const r=t||o.toDotCase(n);e.dispatchEvent(new CustomEvent(r,i))}}}})}},1063:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Watch=void 0;const o=n(2466);e.Watch=t=>(e,n)=>{e.constructor.watchAttributes||(e.constructor.watchAttributes={}),e.constructor.watchAttributes[o.toKebabCase(t)]=n,e.constructor.propsInit||(e.constructor.propsInit={}),e.constructor.propsInit[t]=null}},2466:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tryParseInt=e.toDotCase=e.toCamelCase=e.toKebabCase=void 0,e.toKebabCase=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),e.toCamelCase=t=>t.toLowerCase().replace(/(\-\w)/g,(t=>t[1].toUpperCase())),e.toDotCase=t=>t.replace(/(?!^)([A-Z])/g," $1").replace(/[_\s]+(?=[a-zA-Z])/g,".").toLowerCase(),e.tryParseInt=t=>parseInt(t)==t&&NaN!==parseFloat(t)?parseInt(t):t},2573:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>a});var o=n(5052),i=n.n(o),r=n(164),s=n.n(r)()(i());s.push([t.id,'.user-account-content{display:flex;flex-direction:row;padding:6px 8px 6px 8px;width:auto;color:#403f3f;gap:6px;font-family:"Open Sans",sans-serif;font-size:14px;justify-content:space-between;align-items:center;margin:0 6px 0 12px;background:rgba(0,0,0,0);border:none}.user-account-content:hover{color:#1073bc;cursor:pointer}.user-account-content span:last-child{display:none;align-items:center;flex-direction:row;padding:2px 1px;vertical-align:middle;font-weight:500}@media(min-width: 992px){.user-account-content span:last-child{display:inline-block}}.user-account-content span:first-child svg{height:24px;width:24px;vertical-align:middle}.menu-wrapper{font-size:14px;font-family:"Open Sans",sans-serif;position:relative;-moz-transition:all .3s ease-in-out;-o-transition:all .3s ease-in-out;-webkit-transition:all .3s ease-in-out;transition:all .3s ease-in-out}.menu-wrapper>div{max-height:0;overflow:hidden;-moz-transition:all .3s ease-in-out;-o-transition:all .3s ease-in-out;-webkit-transition:all .3s ease-in-out;transition:all .3s ease-in-out;position:absolute;display:flex;flex-direction:column;background-color:#fff;box-shadow:0px 1px 3px 0px rgba(0,0,0,.1019607843);width:375px;z-index:100;top:10px;right:-85px}.menu-wrapper>div>div:first-child>span{display:block}.menu-wrapper>div>div:first-child>span:last-child{font-weight:bolder}.menu-wrapper>div ul{list-style-type:none}.menu-wrapper>div ul li{margin:12px 0}.menu-wrapper>div ul li a,.menu-wrapper>div ul li a:link,.menu-wrapper>div ul li a:visited{color:#1a589f}.menu-wrapper>div>*:nth-child(odd){background-color:#f9f9f9;padding:32px;display:flex;flex-direction:column;gap:5px}.menu-wrapper>div>*:nth-child(even){background-color:#fff;margin-top:10px;display:flex;flex-direction:column;gap:5px;padding:0 32px}.menu-wrapper>div>*:last-child{padding:32px}.menu-wrapper>div a,.menu-wrapper>div a:link,.menu-wrapper>div a:visited{color:#000;display:flex;text-decoration:underline}.menu-wrapper>div a:hover{cursor:pointer}.menu-wrapper>div .menu-user-icon svg{padding-left:4px;width:24px;height:24px;color:#000}.menu-wrapper.open>div{max-height:1000px}.user-account-container{text-align:right;background-color:#d2cecb;max-height:0;overflow:hidden}.user-account-container.open{max-height:56px}.user-account-container a,.user-account-container button{display:inline-block;padding:.25em 1em .25em 1.1em;margin:15px 0;text-decoration:none;color:rgba(0,0,0,0);cursor:pointer;border:none;font-weight:normal;background:rgba(0,0,0,0)}.user-account-container a:not(:first-child),.user-account-container button:not(:first-child){border:none}',"",{version:3,sources:["webpack://./stories/main-navigation/user-account/user-account.scss","webpack://./style/variables/_typography.scss","webpack://./style/mixins/_breakpoints.scss","webpack://./style/mixins/_transition.scss"],names:[],mappings:"AAIA,sBACI,YAAA,CACA,kBAAA,CACA,uBAAA,CACA,UAAA,CACA,aAAA,CACA,OAAA,CACA,kCCXW,CDYX,cAAA,CACA,6BAAA,CACA,kBAAA,CACA,mBAAA,CACA,wBAAA,CAMA,WAAA,CALA,4BACI,aAAA,CACA,cAAA,CAIJ,sCACI,YAAA,CACA,kBAAA,CACA,kBAAA,CACA,eAAA,CACA,qBAAA,CACA,eAAA,CErBA,yBFeJ,sCAQQ,oBAAA,CAAA,CAIJ,2CACI,WAAA,CACA,UAAA,CACA,qBAAA,CAIZ,cACI,cAAA,CACA,kCC5CW,CD6CX,iBAAA,CG5CA,mCH6CA,CG5CA,iCH4CA,CG3CA,sCH2CA,CG1CA,8BH0CA,CAEA,kBACI,YAAA,CACA,eAAA,CGjDJ,mCHkDI,CGjDJ,iCHiDI,CGhDJ,sCHgDI,CG/CJ,8BH+CI,CACA,iBAAA,CACA,YAAA,CACA,qBAAA,CACA,qBAAA,CACA,kDAAA,CACA,WAAA,CACA,WAAA,CACA,QAAA,CACA,WAAA,CACA,uCACI,aAAA,CACA,kDACI,kBAAA,CAGR,qBACI,oBAAA,CACA,wBACI,aAAA,CACA,2FAGI,aAAA,CAKZ,mCACI,wBAAA,CACA,YAAA,CACA,YAAA,CACA,qBAAA,CACA,OAAA,CAEJ,oCACI,qBAAA,CACA,eAAA,CACA,YAAA,CACA,qBAAA,CACA,OAAA,CACA,cAAA,CAEJ,+BACI,YAAA,CAEJ,yEAGI,UAAA,CACA,YAAA,CACA,yBAAA,CAEJ,0BACI,cAAA,CAGA,sCACI,gBAAA,CACA,UAAA,CACA,WAAA,CACA,UAAA,CAKR,uBACI,iBAAA,CAIZ,wBACI,gBAAA,CACA,wBAAA,CACA,YAAA,CACA,eAAA,CACA,6BACI,eAAA,CAEJ,yDAEI,oBAAA,CACA,6BAAA,CACA,aAAA,CACA,oBAAA,CACA,mBAAA,CACA,cAAA,CACA,WAAA,CACA,kBAAA,CACA,wBAAA,CACA,6FACI,WAAA",sourcesContent:['@use "../../../style/mixins/breakpoints";\n@use "../../../style/mixins/transition";\n@use "../../../style/variables/typography";\n\n.user-account-content {\n    display: flex;\n    flex-direction: row;\n    padding: 6px 8px 6px 8px;\n    width: auto;\n    color: #403f3f;\n    gap: 6px;\n    font-family: typography.$default-font;\n    font-size: 14px;\n    justify-content: space-between;\n    align-items: center;\n    margin: 0 6px 0 12px;\n    background: transparent;\n    &:hover {\n        color: #1073bc;\n        cursor: pointer;\n    }\n\n    border: none;\n    span:last-child {\n        display: none;\n        align-items: center;\n        flex-direction: row;\n        padding: 2px 1px;\n        vertical-align: middle;\n        font-weight: 500;\n        @include breakpoints.breakpoint(laptop) {\n            display: inline-block;\n        }\n    }\n    span:first-child {\n        svg {\n            height: 24px;\n            width: 24px;\n            vertical-align: middle;\n        }\n    }\n}\n.menu-wrapper {\n    font-size: 14px;\n    font-family: typography.$default-font;\n    position: relative;\n    @include transition.transition(all 0.3s ease-in-out);\n\n    > div {\n        max-height: 0;\n        overflow: hidden;\n        @include transition.transition(all 0.3s ease-in-out);\n        position: absolute;\n        display: flex;\n        flex-direction: column;\n        background-color: white;\n        box-shadow: 0px 1px 3px 0px #0000001a;\n        width: 375px;\n        z-index: 100;\n        top: 10px;\n        right: -85px;\n        > div:first-child > span {\n            display: block;\n            &:last-child {\n                font-weight: bolder;\n            }\n        }\n        ul {\n            list-style-type: none;\n            li {\n                margin: 12px 0;\n                a,\n                a:link,\n                a:visited {\n                    color: #1a589f;\n                }\n            }\n        }\n\n        > *:nth-child(odd) {\n            background-color: #f9f9f9;\n            padding: 32px;\n            display: flex;\n            flex-direction: column;\n            gap: 5px;\n        }\n        > *:nth-child(even) {\n            background-color: white;\n            margin-top: 10px;\n            display: flex;\n            flex-direction: column;\n            gap: 5px;\n            padding: 0 32px;\n        }\n        > *:last-child {\n            padding: 32px;\n        }\n        a,\n        a:link,\n        a:visited {\n            color: #000000;\n            display: flex;\n            text-decoration: underline;\n        }\n        a:hover {\n            cursor: pointer;\n        }\n        .menu-user-icon {\n            svg {\n                padding-left: 4px;\n                width: 24px;\n                height: 24px;\n                color: #000000;\n            }\n        }\n    }\n    &.open {\n        > div {\n            max-height: 1000px;\n        }\n    }\n}\n.user-account-container {\n    text-align: right;\n    background-color: #d2cecb;\n    max-height: 0;\n    overflow: hidden;\n    &.open {\n        max-height: 56px;\n    }\n    a,\n    button {\n        display: inline-block;\n        padding: 0.25em 1em 0.25em 1.1em;\n        margin: 15px 0;\n        text-decoration: none;\n        color: transparent;\n        cursor: pointer;\n        border: none;\n        font-weight: normal;\n        background: transparent;\n        &:not(:first-child) {\n            border: none;\n        }\n    }\n}\n','$default-font: "Open Sans", sans-serif;\n$header-font: "Raleway", sans-serif;\n$default-font-size: 15px;\n','@use "../variables/breakpoints";\n\n@mixin breakpoint($point) {\n    @if $point == desktop {\n        @media (min-width: breakpoints.$screen-desktop) {\n            @content;\n        }\n    } @else if $point == laptop {\n        @media (min-width: breakpoints.$screen-laptop) {\n            @content;\n        }\n    } @else if $point == tablet {\n        @media (min-width: breakpoints.$screen-tablet) {\n            @content;\n        }\n    } @else if $point == phablet {\n        @media (min-width: breakpoints.$screen-phablet) {\n            @content;\n        }\n    }\n}\n',"\ufeff@mixin transition($transition...) {\n    -moz-transition: $transition;\n    -o-transition: $transition;\n    -webkit-transition: $transition;\n    transition: $transition;\n}\n\n@mixin transition-property($property...) {\n    -moz-transition-property: $property;\n    -o-transition-property: $property;\n    -webkit-transition-property: $property;\n    transition-property: $property;\n}\n\n@mixin transition-duration($duration...) {\n    -moz-transition-property: $duration;\n    -o-transition-property: $duration;\n    -webkit-transition-property: $duration;\n    transition-property: $duration;\n}\n\n@mixin transition-timing-function($timing...) {\n    -moz-transition-timing-function: $timing;\n    -o-transition-timing-function: $timing;\n    -webkit-transition-timing-function: $timing;\n    transition-timing-function: $timing;\n}\n\n@mixin transition-delay($delay...) {\n    -moz-transition-delay: $delay;\n    -o-transition-delay: $delay;\n    -webkit-transition-delay: $delay;\n    transition-delay: $delay;\n}\n"],sourceRoot:""}]);const a=s},2781:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderDropdownResultLink=e.convertTextToUrlSlug=e.getGeonorgeNedlastingUrl=e.getGeonorgeUrl=e.getMinsideUrl=e.getKartkatalogUrl=void 0,e.getKartkatalogUrl=t=>`https://kartkatalog.${"dev"===t||"test"===t?t+".":""}geonorge.no`,e.getMinsideUrl=t=>`https://minside.${"dev"===t||"test"===t?t+".":""}geonorge.no`,e.getGeonorgeUrl=(t,e)=>`https://www.${"dev"===e||"test"===e?"test.":""}geonorge.no/${"en"===t?"en/":""}`,e.getGeonorgeNedlastingUrl=t=>`https://nedlasting.${"dev"===t||"test"===t?"test.":""}geonorge.no`;const n=(t,e,n)=>(t=(t=(t=t.replace(new RegExp(`([^s])([${e}])([^s])`,"ig"),`$1 ${n} $3`)).replace(new RegExp(`([^s])([${e}])`,"ig"),`$1 ${n}`)).replace(new RegExp(`([${e}])([^s])`,"ig"),`${n} $2`)).replace(new RegExp(`[${e}]`,"ig"),n);e.convertTextToUrlSlug=(t="")=>(t=t.toLowerCase(),t=n(t,"&","and"),(t=(t=(t=(t=(t=(t=(t=(t=(t=n(t,"+","plus")).replace("æ","ae")).replace("ä","ae")).replace("ø","oe")).replace("ö","oe")).replace("å","aa")).replace(/( - )/g,"-")).replace(/[\s]+/g,"-")).replace(/[^a-z0-9-]+/gi,"")).replace(/^[^A-Z0-9]*|[^a-z0-9]*$/gi,""));const o=(t,e)=>{if(!e)return!1;e({event:"updateSearchString",category:"metadataSearch",activity:"dropDownResultsClick",searchString:t})};e.renderDropdownResultLink=(t,n,i,r,s)=>"articles"===n?`<a onClick="${o(i,s)}" href="${t.ShowDetailsUrl?t.ShowDetailsUrl:"#"}">${t.Title}</a>`:`<a onClick="${o(i,s)}" href="${(0,e.getKartkatalogUrl)(r)}/metadata/${(0,e.convertTextToUrlSlug)(t.Title)}/${t.Uuid}?search=${i}">${t.Title}</a>`},3128:function(t,e,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||o(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(8631),e),i(n(3704),e),i(n(3365),e),i(n(169),e),i(n(6999),e),i(n(3982),e),i(n(8861),e),i(n(1063),e)},3365:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getShadowRootElement=e.getElement=void 0,e.getElement=t=>document.querySelector(t),e.getShadowRootElement=(t,e)=>t.shadowRoot.querySelector(e)},3704:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CustomElement=void 0;class n extends HTMLElement{constructor(){super()}connect(t){this.isConnected||document.querySelector(t).appendChild(this)}}e.CustomElement=n},3982:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Toggle=void 0;const o=n(2466);e.Toggle=()=>(t,e)=>{t.constructor.propsInit||(t.constructor.propsInit={}),t.constructor.propsInit[e]=null,Object.defineProperty(t,e,{get:function(){return(t=>{if(this.hasAttribute(t)){const e=this.getAttribute(t);return!!/^(true|false|^$)$/.test(e)&&("true"==e||""==e)}return!1})(e)},set:function(t){const n=t;if(null!=t)switch(typeof t){case"boolean":break;case"string":/^(true|false|^$)$/.test(t)?t="true"==n||""==n:(console.warn(`TypeError: Cannot set boolean toggle property '${e}' to '${t}'`),t=!1);break;default:throw`TypeError: Cannot set boolean toggle property '${e}' to '${t}'`}this.__connected?(this.props[e]=t||!1,""!==n&&null!==n?this.setAttribute(e,t):t?this.setAttribute(e,""):this.removeAttribute(e)):this.hasAttribute(o.toKebabCase(e))||(this.constructor.propsInit[e]=t)}})}},4142:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path fill="currentColor" d="M480-480q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 66-47 113t-113 47ZM160-160v-112q0-34 17.5-62.5T224-378q62-31 126-46.5T480-440q66 0 130 15.5T736-378q29 15 46.5 43.5T800-272v112H160Zm80-80h480v-32q0-11-5.5-20T700-306q-54-27-109-40.5T480-360q-56 0-111 13.5T260-306q-9 5-14.5 14t-5.5 20v32Zm240-320q33 0 56.5-23.5T560-640q0-33-23.5-56.5T480-720q-33 0-56.5 23.5T400-640q0 33 23.5 56.5T480-560Zm0-80Zm0 400Z"></path></svg>'},5052:t=>{"use strict";t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),r="/*# ".concat(i," */");return[e].concat([r]).join("\n")}return[e].join("\n")}},6388:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path fill="currentColor" d="M480-120v-80h280v-560H480v-80h280q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H480Zm-80-160-55-58 102-102H120v-80h327L345-622l55-58 200 200-200 200Z"></path></svg>'},6999:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.initializeProps=e.Prop=void 0;const o=n(2466);e.Prop=()=>(t,e)=>{const n=o.toKebabCase(e);t.constructor.propsInit||(t.constructor.propsInit={}),t.constructor.propsInit[e]=null,Object.defineProperty(t,e,{get:function(){return this.props[e]?this.props[e]:this.getAttribute(n)},set:function(t){if(this.__connected){const i=this.props[e];this.props[e]=o.tryParseInt(t),"object"!=typeof t?this.setAttribute(n,t):this.onAttributeChange(n,i,t,!1)}else this.hasAttribute(o.toKebabCase(e))||(this.constructor.propsInit[e]=t)}})},e.initializeProps=t=>{const e=t.constructor.watchAttributes;for(let n of(t=>{const e=t.constructor.watchAttributes,n=Object.assign({},e);Object.keys(n).forEach((t=>n[t]=""));const o=Object.assign(Object.assign({},n),t.constructor.propsInit);return Object.keys(o)})(t)){if(e)if(null==e[o.toKebabCase(n)])e[o.toKebabCase(n)]="";else{const i=t.props[n]||t.getAttribute(o.toKebabCase(n));"function"==typeof t[e[n]]&&t[e[n]]({new:i})}t.constructor.propsInit[n]&&(t.hasAttribute(o.toKebabCase(n))||(t[n]=t.constructor.propsInit[n]))}}},7227:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path fill="currentColor" d="M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h240q17 0 28.5 11.5T480-800q0 17-11.5 28.5T440-760H200v560h240q17 0 28.5 11.5T480-160q0 17-11.5 28.5T440-120H200Zm487-320H400q-17 0-28.5-11.5T360-480q0-17 11.5-28.5T400-520h287l-75-75q-11-11-11-27t11-28q11-12 28-12.5t29 11.5l143 143q12 12 12 28t-12 28L669-309q-12 12-28.5 11.5T612-310q-11-12-10.5-28.5T613-366l74-74Z"></path></svg>'},8591:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>o});const o='<template>\n          \n        <button id="user-account-container" class="user-account-content">    \n               \n        </button>\n        \n        <div id="user-account-menu-wrapper" class="menu-wrapper">\n            \n        </div>\n            \n </template>    '},8631:function(t,e,n){"use strict";var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(i,r){function s(t){try{c(o.next(t))}catch(t){r(t)}}function a(t){try{c(o.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((o=o.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.Component=void 0;const i=n(169),r=n(6999),s=n(2466);e.Component=t=>e=>{var n;const a=t.tag||s.toKebabCase(e.prototype.constructor.name),c=((n=class extends e{constructor(){super(),this.props={},this.showShadowRoot=null==t.shadow||t.shadow,!this.shadowRoot&&this.showShadowRoot&&this.attachShadow({mode:"open"})}static get observedAttributes(){return Object.keys(this.propsInit||{}).map((t=>s.toKebabCase(t)))}attributeChangedCallback(t,e,n){this.onAttributeChange(t,e,n)}onAttributeChange(t,e,n,o=!0){if(e!=n){o&&(this[s.toCamelCase(t)]=n);const i=this.constructor.watchAttributes;if(i&&i[t]){const o=i[t];this.__connected&&"function"==typeof this[o]&&this[o]({old:e,new:n})}}}connectedCallback(){const t=Object.create(null,{connectedCallback:{get:()=>super.connectedCallback}});return o(this,void 0,void 0,(function*(){yield this.render(),t.connectedCallback&&t.connectedCallback.call(this),this.__connected=!0,i.addEventListeners(this),r.initializeProps(this)}))}render(){return o(this,void 0,void 0,(function*(){if(this.__connected)return;const e=document.createElement("template");e.innerHTML=yield this.getStyle(),t.template instanceof Promise?e.content.appendChild(yield this.getExternalTemplate()):"string"==typeof t.template&&(e.innerHTML+=t.template),(this.showShadowRoot?this.shadowRoot:this).appendChild(e.content.cloneNode(!0))}))}getExternalTemplate(){return o(this,void 0,void 0,(function*(){const e=(yield t.template).default.toString(),n=document.createRange().createContextualFragment(e);return 1===n.children.length&&"TEMPLATE"===n.children[0].nodeName?n.firstChild.content:n}))}getStyle(){return o(this,void 0,void 0,(function*(){let e;return t.style instanceof Promise?e=(yield t.style).default.toString():"string"==typeof t.style&&(e=t.style),e?`<style>${e}</style>`:""}))}}).__connected=!1,n.ready=new Promise(((t,e)=>t(!0))),n);return customElements.get(a)||customElements.define(a,c),c}},8861:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},8969:function(t,e,n){"use strict";var o,i=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,o,i)}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},a=this&&this.__importStar||(o=function(t){return o=Object.getOwnPropertyNames||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[e.length]=n);return e},o(t)},function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n=o(t),s=0;s<n.length;s++)"default"!==n[s]&&i(e,t,n[s]);return r(e,t),e}),c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.UserAccount=void 0;const l=n(3128),u=c(n(7227)),p=c(n(6388)),d=c(n(4142)),A=n(2781);let h=class extends l.CustomElement{constructor(){super(),this.hideListContainer=()=>{this.showmenu=!1},this.clickOutsideUserAccountItemsContainer=this.clickOutsideUserAccountItemsContainer.bind(this)}setup(t){this.connect(t.container),t.id&&(this.id=t.id)}connectedCallback(){this.userAccountContent=(0,l.getShadowRootElement)(this,"#user-account-container"),this.userAccountItems=(0,l.getShadowRootElement)(this,"#user-account-menu-wrapper"),this.userAccountListContainer=(0,l.getShadowRootElement)(this,"#user-account-list-container"),(this.signinurl&&this.signouturl||this.shouldShowAuthenticationButton())&&this.renderLoginButton(),document.addEventListener("click",this.clickOutsideUserAccountItemsContainer)}shouldShowAuthenticationButton(){var t,e;return""===(null===(t=this.hasAuthenticationFunction)||void 0===t?void 0:t.toString())||"true"===(null===(e=this.hasAuthenticationFunction)||void 0===e?void 0:e.toString())}disconnectedCallback(){document.removeEventListener("click",this.clickOutsideUserAccountItemsContainer)}clickOutsideUserAccountItemsContainer(t){const e=t.composedPath()[0];e.closest("#user-account-item-list-container")||e.closest("#user-account-toggle-button")||this.hideListContainer()}renderLoginButton(){this.userAccountContent.innerHTML="";const t=document.createElement("span");t.classList.add("menu-user-icon"),t.innerHTML=p.default;const e=document.createElement("span");e.innerText="en"===this.language?"Sign in":"Logg inn",this.userAccountContent.append(t,e)}renderLogoutButton(){var t;this.userAccountContent.innerHTML="";const e=document.createElement("div");e.id="user-account-toggle-button",e.classList.add("user-account-button");const n=document.createElement("span");let o=null===(t=JSON.parse(this.userinfo))||void 0===t?void 0:t.name;o&&o.length>10&&(o=o.substring(0,8)+"..."),n.innerText=o;const i=document.createElement("span");i.classList.add("close-user-icon"),i.innerHTML=d.default,e.appendChild(i),e.appendChild(n),this.userAccountContent.append(e)}renderUserButton(){(this.signinurl&&this.signouturl||this.shouldShowAuthenticationButton())&&(this.isloggedin?this.renderLogoutButton():this.renderLoginButton())}renderUserAccountItems(){var t;const e=this.signinurl&&this.signouturl;if(this.isloggedin||e||this.shouldShowAuthenticationButton()){this.userAccountItems.innerHTML="";const e=document.createElement("div"),n=document.createElement("div"),o=document.createElement("span");o.innerText="en"===this.language?"User account":"Pålogget som:",n.appendChild(o);const i=document.createElement("strong"),r=null===(t=JSON.parse(this.userinfo))||void 0===t?void 0:t.name;i.innerText=r,n.appendChild(i),e.appendChild(n);const s=document.createElement("ul"),a=t=>{const e=document.createElement("li"),n=document.createElement("a");return n.innerText=t,n.href=(0,A.getMinsideUrl)(this.environment),e.appendChild(n),e};s.appendChild(a("en"===this.language?"My page":"Min side")),e.appendChild(s);const c=document.createElement("div");c.style.marginTop="10px";const l=document.createElement("span");l.classList.add("menu-user-icon"),l.innerHTML=u.default;const p=document.createElement("a");p.setAttribute("role","button"),p.href="#";const d=document.createElement("span");d.innerText="en"===this.language?"Log out":"Logg ut",p.appendChild(l),p.appendChild(d),this.shouldShowAuthenticationButton()?p.onclick=t=>{t.preventDefault(),this.onSignOutClick.emit()}:p.href=this.signouturl,c.appendChild(p),e.appendChild(c),this.userAccountItems.appendChild(e)}else this.userAccountItems.innerHTML=""}buttonClicked(t){var e,n,o,i;this.isloggedin?(this.showmenu=!this.showmenu,this.showmenu?null===(e=this.userAccountItems)||void 0===e||e.classList.add("open"):null===(n=this.userAccountItems)||void 0===n||n.classList.remove("open"),this.showmenu?null===(o=this.userAccountListContainer)||void 0===o||o.classList.add("open"):null===(i=this.userAccountListContainer)||void 0===i||i.classList.remove("open")):this.shouldShowAuthenticationButton()?this.onSignInClick.emit():window.location.href=this.signinurl}showMenuChanged(){var t,e;this.showmenu?null===(t=this.userAccountItems)||void 0===t||t.classList.add("open"):null===(e=this.userAccountItems)||void 0===e||e.classList.remove("open")}hasAuthenticationFunctionChanged(){this.renderUserButton(),this.renderUserAccountItems()}isLoggedInChanged(){this.renderUserButton(),this.renderUserAccountItems()}languageChanged(){this.renderUserButton(),this.renderUserAccountItems()}organizationChanged(){this.renderUserButton(),this.renderUserAccountItems()}userInfoChanged(){this.renderUserButton(),this.renderUserAccountItems()}static setup(t,e){const n=(0,l.getElement)(t);e.active&&(n.showmenu=e.active)}};e.UserAccount=h,h.elementSelector="user-account",s([(0,l.Prop)()],h.prototype,"id",void 0),s([(0,l.Prop)()],h.prototype,"environment",void 0),s([(0,l.Prop)()],h.prototype,"language",void 0),s([(0,l.Prop)()],h.prototype,"signinurl",void 0),s([(0,l.Prop)()],h.prototype,"signouturl",void 0),s([(0,l.Prop)()],h.prototype,"organization",void 0),s([(0,l.Prop)()],h.prototype,"userinfo",void 0),s([(0,l.Toggle)()],h.prototype,"isloggedin",void 0),s([(0,l.Toggle)()],h.prototype,"showmenu",void 0),s([(0,l.Toggle)()],h.prototype,"hasAuthenticationFunction",void 0),s([(0,l.Dispatch)("onSignInClick")],h.prototype,"onSignInClick",void 0),s([(0,l.Dispatch)("onSignOutClick")],h.prototype,"onSignOutClick",void 0),s([(0,l.Dispatch)("onNorwegianLanguageSelect")],h.prototype,"onNorwegianLanguageSelect",void 0),s([(0,l.Dispatch)("onEnglishLanguageSelect")],h.prototype,"onEnglishLanguageSelect",void 0),s([(0,l.Listen)("click","#user-account-container")],h.prototype,"buttonClicked",null),s([(0,l.Watch)("showmenu")],h.prototype,"showMenuChanged",null),s([(0,l.Watch)("hasauthenticationfunction")],h.prototype,"hasAuthenticationFunctionChanged",null),s([(0,l.Watch)("isloggedin")],h.prototype,"isLoggedInChanged",null),s([(0,l.Watch)("language")],h.prototype,"languageChanged",null),s([(0,l.Watch)("organization")],h.prototype,"organizationChanged",null),s([(0,l.Watch)("userinfo")],h.prototype,"userInfoChanged",null),e.UserAccount=h=s([(0,l.Component)({tag:"user-account",template:Promise.resolve().then((()=>a(n(8591)))),style:Promise.resolve().then((()=>a(n(2573))))})],h)}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var r=e[o]={id:o,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.exports}return n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(8969)})()));
//# sourceMappingURL=UserAccount.js.map